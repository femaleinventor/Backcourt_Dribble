<%= render 'shared/site_nav'%>
<div class="admin-container container-fluid">

  <div class="row justify-content-center align-items-center dashboard-section">
    <div class="col-xs-12 align-items-center">
      <h1 class="admin-welcome"> Welcome, <%= current_user.username %>.</h1>
      <h2 class="section-prompt text-center">What would you like to update today?</h2>
      <div class="resources">
        <div class="resource">
          <%= link_to 'Sports', '#sports', class: "btn btn-lg btn-primary resource-button"%>
        </div>

        <div class="resource">
            <%= link_to 'Leagues', '#leagues', class: "btn btn-lg btn-primary resource-button"%>
        </div>

        <div class="resource">
            <%= link_to 'Venues', '#venues', class: "btn btn-lg btn-primary resource-button"%>
        </div>

        <div class="resource">
            <%= link_to 'Matches', '#matches', class: "btn btn-lg btn-primary resource-button"%>
        </div>

        <div class="resource">
            <%= link_to 'Teams', '#teams', class: "btn btn-lg btn-primary resource-button"%>
        </div>
      </div>
    </div>
  </div>

  <!-- Sport CRUD -->
  <div id="sports" class="row justify-content-around resource-section">
    <!-- <h2 class="section-heading">Update Sports</h2> -->
    <div class="col-xs-12 col-md-6">
      <div class="create-action">
        <h3 class="text-center edit-options"> Create A New Sport: </h3>
        <%= form_for :sport, :url => {:controller => "sports", :action => "create"} do |f| %>
          <div class="form-group">
            <%= f.label :name, "Sport Name"%>
            <%= f.text_field :name, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= f.label :image_url, "Image"%>
            <%= f.text_field :image_url, class:"form-control", placeholder: "Optional"%>
          </div>

          <div class="form-group">
            <%= f.label :sound_link, "Sound Link"%>
            <%= f.text_field :sound_link, class:"form-control", placeholder: "Optional"%>
          </div>

          <div class="form-actions">
            <%= f.submit "Submit", class: "btn btn-primary btn-md" %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="col-xs-12 col-md-4">
      <h3 class="text-center edit-options"> All Sports: </h3>
      <div class="scroller">
          <% @sports.each do |sport| %>
            <%=link_to sport.name, sport_path(sport), class:"show-links"%>
            <% end %>
      </div>
    </div>
  </div> <!-- End Sport CRUD -->

  <!-- League CRUD -->
  <div id="leagues" class="row justify-content-around resource-section">
    <h2 class="section-heading"></h2>
    <div class="col-xs-12 col-md-6">
      <div class="create-action">
        <h3 class="text-center edit-options"> Create A New League: </h3>
        <%= form_tag(controller: 'leagues', action: 'create') do %>
          <div class="form-group">
            <%= label_tag :name, "League Name"%>
            <%= text_field_tag :name, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :Abbreviation %>
            <%= text_field_tag :abbreviation, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <!-- <label for="sportSelect">Sport</label> -->
            <%= label_tag :sport %>
            <%= select_tag :sport_id, options_from_collection_for_select(@sports, "id", "name"), include_blank: true, class: "form-control"  %>

          </div>

          <div class="form-actions">
            <%= submit_tag "Submit", class: "btn btn-primary btn-md" %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="col-xs-12 col-md-4">
      <h3 class="text-center edit-options"> All Leagues: </h3>
      <div class="scroller">
          <% @leagues.each do |league| %>
            <%=link_to league.name, league_path(league), class:"show-links"%>
            <% end %>
      </div>
    </div>
  </div> <!-- End League CRUD -->

  <!-- Venue CRUD -->
  <div id="venues" class="row justify-content-around resource-section">
    <h2 class="section-heading"></h2>

    <div class="col-xs-12 col-md-6">
      <div class="create-action">
        <h3 class="text-center edit-options"> Create A New Venue: </h3>

        <%= form_tag(controller: 'venues', action: 'create') do %>
          <div class="form-group">
            <%= label_tag :name, "Venue Name"%>
            <%= text_field_tag :name, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :picture_url, "Image" %>
            <%= text_field_tag :picture_url, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :address %>
            <%= text_field_tag :address, nil, class:"form-control", placeholder: "Street Address, City, State Zipcode"%>
          </div>

          <!-- Not saving in db, is being taken in as a hash on server side. may need to use Time instead of DateTime -->

          <div class="form-group">
            <%= label_tag :time_zone %> <br/>
            <%= time_zone_select(:venue, :time_zone, ActiveSupport::TimeZone.all.sort, model: ActiveSupport::TimeZone)%>
          </div>

          <div class="form-actions">
            <%= submit_tag "Submit", class: "btn btn-primary btn-md" %>
          </div>
        <% end %>

      </div>
    </div>

    <div class="col-xs-12 col-md-4">
      <h3 class="text-center edit-options"> All Venues: </h3>
      <div class="scroller">
          <% @venues.each do |venue| %>
            <%=link_to venue.name, venue_path(venue), class:"show-links"%>
            <% end %>
      </div>
    </div>
  </div> <!-- End Venue CRUD -->

  <div id="matches" class="row justify-content-around resource-section">
    <h2 class="section-heading"></h2>
    <div class="col-xs-12 col-md-6">
      <div class="create-action">
        <h3 class="text-center edit-options"> Create A New Match: </h3>
        <%= form_for :match, :url => {:controller => "matches", :action => "create"} do |f| %>

          <div class="form-group">
            <%= f.label :sport %>
            <%= f.select :sport_id, Sport.all.collect {|s| [ s.name, s.id ] }, { include_blank: true }, :class => "form-control"  %>
          </div>

          <div class="form-group">
            <%= f.label :league %>
            <%= f.select :league_id, League.all.collect {|l| [ l.name, l.id ] }, { include_blank: true }, class: "form-control"  %>
          </div>

          <div class="form-group">
            <%= f.label :Home_Team %>
            <%= f.select :home_team_id, Team.all.collect {|t| [ t.name, t.id ] }, { include_blank: true }, class: "form-control"   %>
          </div>

          <div class="form-group">
            <%= f.label  :Away_Team %>
            <%= f.select :away_team_id, Team.all.collect {|t| [ t.name, t.id ] }, { include_blank: true }, class: "form-control"   %>
          </div>


          <div class="form-group">
            <%= f.label :start, "Start Date and Time: YYYY-MM-DD hh:mm:ss" %> <br/>
            <%= f.datetime_select :start, class:"form-control"%>
          </div>


          <div class="form-group">
            <%= f.label :Channel %>
            <%= f.text_field  :channel, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= f.label :Venue %>
            <%= f.select :venue_id, Venue.all.collect {|v| [ v.name, v.id ] }, { include_blank: true }, class: "form-control"  %>
          </div>

          <div class="form-actions">
            <%= f.submit "Submit", class: "btn btn-primary btn-md" %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="col-xs-12 col-md-4">
      <h3 class="text-center edit-options"> All Matches: </h3>
      <div class="scroller">
          <% @matches.each do |match| %>
            <% @home_team = Team.find(match.home_team_id) %>
            <% @away_team = Team.find(match.away_team_id) %>
            <!-- format_match_date_english(match) -->
            <%=link_to "#{match.id}: #{@home_team.name} vs. #{@away_team.name}", match_path(match), class:"show-links"%>
            <% end %>
      </div>
    </div>
  </div> <!-- End Matches CRUD -->


  <!-- Team CRUD -->
  <div id="teams" class="row justify-content-around resource-section">
    <h2 class="section-heading"></h2>
    <div class="col-xs-12 col-md-6">
      <div class="create-action">
        <h3 class="text-center edit-options"> Create A New Team: </h3>
        <%= form_tag(controller: 'teams', action: 'create') do %>
          <div class="form-group">
            <%= label_tag :name, "Team Name"%>
            <%= text_field_tag :name, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :Abbreviation %>
            <%= text_field_tag :abbreviation, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :Nickname %>
            <%= text_field_tag :nickname, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :Bright_color %>
            <%= text_field_tag :bright_color, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :Light_color %>
            <%= text_field_tag :light_color, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :Dark_color %>
            <%= text_field_tag :dark_color, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :Twitter_list %>
            <%= text_field_tag :twitter_list, nil, class:"form-control"%>
          </div>

          <div class="form-group">
            <%= label_tag :sport %>
            <%= select_tag :sport_id, options_from_collection_for_select(@sports, "id", "name"), include_blank: true, class: "form-control"  %>
          </div>

          <div class="form-actions">
            <%= submit_tag "Submit", class: "btn btn-primary btn-md" %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="col-xs-12 col-md-4">
      <h3 class="text-center edit-options"> All Teams: </h3>
      <div class="scroller">
          <% @teams.each do |team| %>
            <%=link_to team.name, team_path(team), class:"show-links"%>
            <% end %>
      </div>
    </div>
  </div> <!-- End Team CRUD -->


</div>
