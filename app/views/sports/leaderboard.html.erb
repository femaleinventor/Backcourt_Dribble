<%= render 'shared/site_nav' %>

<div class="container-fluid">

    <h1> <%= @sport.name %> Leaderboard </h1>

      <table class="table">
      <thead>
        <tr>
          <th scope="col">Username</th>
          <th scope="col"># Predictions</th>
          <th scope="col"> % correct </th>
        </tr>
      </thead>
      <tbody>

        <% get_unique_users(@predictions).each do |user| %>
        <tr>
          <td><%= user.username %></td>
          <td><%= user.predictions.count %></td>
          <td><%= user.calculate_percent_correct_predictions %>%</td>
        </tr>
        <% end %>
      </tbody>
      </table>
</div>
